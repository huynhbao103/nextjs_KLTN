"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/user/avatar/route";
exports.ids = ["app/api/user/avatar/route"];
exports.modules = {

/***/ "lodash":
/*!*************************!*\
  !*** external "lodash" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("lodash");

/***/ }),

/***/ "lodash/at":
/*!****************************!*\
  !*** external "lodash/at" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("lodash/at");

/***/ }),

/***/ "lodash/clone":
/*!*******************************!*\
  !*** external "lodash/clone" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("lodash/clone");

/***/ }),

/***/ "lodash/compact":
/*!*********************************!*\
  !*** external "lodash/compact" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("lodash/compact");

/***/ }),

/***/ "lodash/extend":
/*!********************************!*\
  !*** external "lodash/extend" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("lodash/extend");

/***/ }),

/***/ "lodash/filter":
/*!********************************!*\
  !*** external "lodash/filter" ***!
  \********************************/
/***/ ((module) => {

module.exports = require("lodash/filter");

/***/ }),

/***/ "lodash/first":
/*!*******************************!*\
  !*** external "lodash/first" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("lodash/first");

/***/ }),

/***/ "lodash/includes":
/*!**********************************!*\
  !*** external "lodash/includes" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("lodash/includes");

/***/ }),

/***/ "lodash/isArray":
/*!*********************************!*\
  !*** external "lodash/isArray" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("lodash/isArray");

/***/ }),

/***/ "lodash/isEmpty":
/*!*********************************!*\
  !*** external "lodash/isEmpty" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("lodash/isEmpty");

/***/ }),

/***/ "lodash/isFunction":
/*!************************************!*\
  !*** external "lodash/isFunction" ***!
  \************************************/
/***/ ((module) => {

module.exports = require("lodash/isFunction");

/***/ }),

/***/ "lodash/isNumber":
/*!**********************************!*\
  !*** external "lodash/isNumber" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("lodash/isNumber");

/***/ }),

/***/ "lodash/isObject":
/*!**********************************!*\
  !*** external "lodash/isObject" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("lodash/isObject");

/***/ }),

/***/ "lodash/isPlainObject":
/*!***************************************!*\
  !*** external "lodash/isPlainObject" ***!
  \***************************************/
/***/ ((module) => {

module.exports = require("lodash/isPlainObject");

/***/ }),

/***/ "lodash/isString":
/*!**********************************!*\
  !*** external "lodash/isString" ***!
  \**********************************/
/***/ ((module) => {

module.exports = require("lodash/isString");

/***/ }),

/***/ "lodash/isUndefined":
/*!*************************************!*\
  !*** external "lodash/isUndefined" ***!
  \*************************************/
/***/ ((module) => {

module.exports = require("lodash/isUndefined");

/***/ }),

/***/ "lodash/last":
/*!******************************!*\
  !*** external "lodash/last" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("lodash/last");

/***/ }),

/***/ "lodash/map":
/*!*****************************!*\
  !*** external "lodash/map" ***!
  \*****************************/
/***/ ((module) => {

module.exports = require("lodash/map");

/***/ }),

/***/ "lodash/take":
/*!******************************!*\
  !*** external "lodash/take" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("lodash/take");

/***/ }),

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!**********************************************************************************!*\
  !*** external "next/dist\\client\\components\\action-async-storage.external.js" ***!
  \**********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist\\client\\components\\action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!***********************************************************************************!*\
  !*** external "next/dist\\client\\components\\request-async-storage.external.js" ***!
  \***********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist\\client\\components\\request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!*********************************************************************************************!*\
  !*** external "next/dist\\client\\components\\static-generation-async-storage.external.js" ***!
  \*********************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist\\client\\components\\static-generation-async-storage.external.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "querystring":
/*!******************************!*\
  !*** external "querystring" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("querystring");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fuser%2Favatar%2Froute&page=%2Fapi%2Fuser%2Favatar%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuser%2Favatar%2Froute.ts&appDir=D%3A%5CKh%C3%B3a%20lu%E1%BA%ADn%20t%E1%BB%91t%20nghi%E1%BB%87p%5Cfe-kltn%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CKh%C3%B3a%20lu%E1%BA%ADn%20t%E1%BB%91t%20nghi%E1%BB%87p%5Cfe-kltn&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fuser%2Favatar%2Froute&page=%2Fapi%2Fuser%2Favatar%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuser%2Favatar%2Froute.ts&appDir=D%3A%5CKh%C3%B3a%20lu%E1%BA%ADn%20t%E1%BB%91t%20nghi%E1%BB%87p%5Cfe-kltn%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CKh%C3%B3a%20lu%E1%BA%ADn%20t%E1%BB%91t%20nghi%E1%BB%87p%5Cfe-kltn&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var D_Kh_a_lu_n_t_t_nghi_p_fe_kltn_src_app_api_user_avatar_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/user/avatar/route.ts */ \"(rsc)/./src/app/api/user/avatar/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/user/avatar/route\",\n        pathname: \"/api/user/avatar\",\n        filename: \"route\",\n        bundlePath: \"app/api/user/avatar/route\"\n    },\n    resolvedPagePath: \"D:\\\\Khóa luận tốt nghiệp\\\\fe-kltn\\\\src\\\\app\\\\api\\\\user\\\\avatar\\\\route.ts\",\n    nextConfigOutput,\n    userland: D_Kh_a_lu_n_t_t_nghi_p_fe_kltn_src_app_api_user_avatar_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/user/avatar/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ1c2VyJTJGYXZhdGFyJTJGcm91dGUmcGFnZT0lMkZhcGklMkZ1c2VyJTJGYXZhdGFyJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGdXNlciUyRmF2YXRhciUyRnJvdXRlLnRzJmFwcERpcj1EJTNBJTVDS2glQzMlQjNhJTIwbHUlRTElQkElQURuJTIwdCVFMSVCQiU5MXQlMjBuZ2hpJUUxJUJCJTg3cCU1Q2ZlLWtsdG4lNUNzcmMlNUNhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPUQlM0ElNUNLaCVDMyVCM2ElMjBsdSVFMSVCQSVBRG4lMjB0JUUxJUJCJTkxdCUyMG5naGklRTElQkIlODdwJTVDZmUta2x0biZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUN3QjtBQUNyRztBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLHVHQUF1RztBQUMvRztBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQzZKOztBQUU3SiIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLWZvb2QtcmVjb21tZW5kYXRpb24vPzQ3ZTUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiRDpcXFxcS2jDs2EgbHXhuq1uIHThu5F0IG5naGnhu4dwXFxcXGZlLWtsdG5cXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcdXNlclxcXFxhdmF0YXJcXFxccm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3VzZXIvYXZhdGFyL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvdXNlci9hdmF0YXJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwicm91dGVcIixcbiAgICAgICAgYnVuZGxlUGF0aDogXCJhcHAvYXBpL3VzZXIvYXZhdGFyL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiRDpcXFxcS2jDs2EgbHXhuq1uIHThu5F0IG5naGnhu4dwXFxcXGZlLWtsdG5cXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcdXNlclxcXFxhdmF0YXJcXFxccm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0IH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvdXNlci9hdmF0YXIvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgaGVhZGVySG9va3MsIHN0YXRpY0dlbmVyYXRpb25CYWlsb3V0LCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fuser%2Favatar%2Froute&page=%2Fapi%2Fuser%2Favatar%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuser%2Favatar%2Froute.ts&appDir=D%3A%5CKh%C3%B3a%20lu%E1%BA%ADn%20t%E1%BB%91t%20nghi%E1%BB%87p%5Cfe-kltn%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CKh%C3%B3a%20lu%E1%BA%ADn%20t%E1%BB%91t%20nghi%E1%BB%87p%5Cfe-kltn&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/user/avatar/route.ts":
/*!******************************************!*\
  !*** ./src/app/api/user/avatar/route.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/auth */ \"(rsc)/./src/auth.ts\");\n/* harmony import */ var _models_User__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/models/User */ \"(rsc)/./src/models/User.ts\");\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./src/lib/mongodb.ts\");\n/* harmony import */ var _lib_cloudinary__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/cloudinary */ \"(rsc)/./src/lib/cloudinary.ts\");\n\n\n\n\n\nasync function POST(request) {\n    try {\n        const session = await (0,_auth__WEBPACK_IMPORTED_MODULE_1__.auth)();\n        if (!session?.user?.email) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n        const formData = await request.formData();\n        const file = formData.get(\"image\");\n        if (!file) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"No file uploaded\"\n            }, {\n                status: 400\n            });\n        }\n        // Validate file type\n        if (!file.type.startsWith(\"image/\")) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Invalid file type\"\n            }, {\n                status: 400\n            });\n        }\n        // Validate file size (5MB)\n        if (file.size > 5 * 1024 * 1024) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"File size too large\"\n            }, {\n                status: 400\n            });\n        }\n        const bytes = await file.arrayBuffer();\n        const buffer = Buffer.from(bytes);\n        // Convert buffer to base64\n        const base64String = buffer.toString(\"base64\");\n        const dataURI = `data:${file.type};base64,${base64String}`;\n        // Upload to Cloudinary\n        const result = await new Promise((resolve, reject)=>{\n            _lib_cloudinary__WEBPACK_IMPORTED_MODULE_4__[\"default\"].uploader.upload(dataURI, {\n                folder: \"avatars\",\n                resource_type: \"auto\"\n            }, (error, result)=>{\n                if (error) reject(error);\n                else resolve(result);\n            });\n        });\n        // Update user's avatar in MongoDB\n        const imageUrl = result.secure_url;\n        await _models_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOneAndUpdate({\n            email: session.user.email\n        }, {\n            image: imageUrl\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            message: \"Avatar updated successfully\",\n            imageUrl\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"Error uploading avatar:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            message: \"Error uploading avatar\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function DELETE() {\n    try {\n        const session = await (0,_auth__WEBPACK_IMPORTED_MODULE_1__.auth)();\n        if (!session?.user?.email) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_3__[\"default\"])();\n        // Get current user\n        const user = await _models_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOne({\n            email: session.user.email\n        });\n        if (!user) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                message: \"User not found\"\n            }, {\n                status: 404\n            });\n        }\n        // If user has an avatar, delete it from Cloudinary\n        if (user.image) {\n            // Extract public_id from Cloudinary URL\n            const publicId = user.image.split(\"/\").slice(-1)[0].split(\".\")[0];\n            await _lib_cloudinary__WEBPACK_IMPORTED_MODULE_4__[\"default\"].uploader.destroy(`avatars/${publicId}`);\n        }\n        // Update user in MongoDB\n        await _models_User__WEBPACK_IMPORTED_MODULE_2__[\"default\"].findOneAndUpdate({\n            email: session.user.email\n        }, {\n            image: null\n        });\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            message: \"Avatar deleted successfully\"\n        }, {\n            status: 200\n        });\n    } catch (error) {\n        console.error(\"Error deleting avatar:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            message: \"Error deleting avatar\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS91c2VyL2F2YXRhci9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQTBDO0FBQ2I7QUFDRztBQUNLO0FBQ0k7QUFFbEMsZUFBZUssS0FBS0MsT0FBZ0I7SUFDekMsSUFBSTtRQUNGLE1BQU1DLFVBQVUsTUFBTU4sMkNBQUlBO1FBQzFCLElBQUksQ0FBQ00sU0FBU0MsTUFBTUMsT0FBTztZQUN6QixPQUFPVCxrRkFBWUEsQ0FBQ1UsSUFBSSxDQUFDO2dCQUFFQyxTQUFTO1lBQWUsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQ3RFO1FBRUEsTUFBTVQsd0RBQVNBO1FBRWYsTUFBTVUsV0FBVyxNQUFNUCxRQUFRTyxRQUFRO1FBQ3ZDLE1BQU1DLE9BQU9ELFNBQVNFLEdBQUcsQ0FBQztRQUMxQixJQUFJLENBQUNELE1BQU07WUFDVCxPQUFPZCxrRkFBWUEsQ0FBQ1UsSUFBSSxDQUFDO2dCQUFFQyxTQUFTO1lBQW1CLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUMxRTtRQUVBLHFCQUFxQjtRQUNyQixJQUFJLENBQUNFLEtBQUtFLElBQUksQ0FBQ0MsVUFBVSxDQUFDLFdBQVc7WUFDbkMsT0FBT2pCLGtGQUFZQSxDQUFDVSxJQUFJLENBQUM7Z0JBQUVDLFNBQVM7WUFBb0IsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQzNFO1FBRUEsMkJBQTJCO1FBQzNCLElBQUlFLEtBQUtJLElBQUksR0FBRyxJQUFJLE9BQU8sTUFBTTtZQUMvQixPQUFPbEIsa0ZBQVlBLENBQUNVLElBQUksQ0FBQztnQkFBRUMsU0FBUztZQUFzQixHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDN0U7UUFFQSxNQUFNTyxRQUFRLE1BQU1MLEtBQUtNLFdBQVc7UUFDcEMsTUFBTUMsU0FBU0MsT0FBT0MsSUFBSSxDQUFDSjtRQUUzQiwyQkFBMkI7UUFDM0IsTUFBTUssZUFBZUgsT0FBT0ksUUFBUSxDQUFDO1FBQ3JDLE1BQU1DLFVBQVUsQ0FBQyxLQUFLLEVBQUVaLEtBQUtFLElBQUksQ0FBQyxRQUFRLEVBQUVRLGFBQWEsQ0FBQztRQUUxRCx1QkFBdUI7UUFDdkIsTUFBTUcsU0FBUyxNQUFNLElBQUlDLFFBQVEsQ0FBQ0MsU0FBU0M7WUFDekMxQix1REFBVUEsQ0FBQzJCLFFBQVEsQ0FBQ0MsTUFBTSxDQUN4Qk4sU0FDQTtnQkFDRU8sUUFBUTtnQkFDUkMsZUFBZTtZQUNqQixHQUNBLENBQUNDLE9BQU9SO2dCQUNOLElBQUlRLE9BQU9MLE9BQU9LO3FCQUNiTixRQUFRRjtZQUNmO1FBRUo7UUFFQSxrQ0FBa0M7UUFDbEMsTUFBTVMsV0FBVyxPQUFnQkMsVUFBVTtRQUMzQyxNQUFNbkMsb0RBQUlBLENBQUNvQyxnQkFBZ0IsQ0FDekI7WUFBRTdCLE9BQU9GLFFBQVFDLElBQUksQ0FBQ0MsS0FBSztRQUFDLEdBQzVCO1lBQUU4QixPQUFPSDtRQUFTO1FBR3BCLE9BQU9wQyxrRkFBWUEsQ0FBQ1UsSUFBSSxDQUN0QjtZQUFFQyxTQUFTO1lBQStCeUI7UUFBUyxHQUNuRDtZQUFFeEIsUUFBUTtRQUFJO0lBRWxCLEVBQUUsT0FBT3VCLE9BQU87UUFDZEssUUFBUUwsS0FBSyxDQUFDLDJCQUEyQkE7UUFDekMsT0FBT25DLGtGQUFZQSxDQUFDVSxJQUFJLENBQ3RCO1lBQUVDLFNBQVM7UUFBeUIsR0FDcEM7WUFBRUMsUUFBUTtRQUFJO0lBRWxCO0FBQ0Y7QUFFTyxlQUFlNkI7SUFDcEIsSUFBSTtRQUNGLE1BQU1sQyxVQUFVLE1BQU1OLDJDQUFJQTtRQUMxQixJQUFJLENBQUNNLFNBQVNDLE1BQU1DLE9BQU87WUFDekIsT0FBT1Qsa0ZBQVlBLENBQUNVLElBQUksQ0FBQztnQkFBRUMsU0FBUztZQUFlLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUN0RTtRQUVBLE1BQU1ULHdEQUFTQTtRQUVmLG1CQUFtQjtRQUNuQixNQUFNSyxPQUFPLE1BQU1OLG9EQUFJQSxDQUFDd0MsT0FBTyxDQUFDO1lBQUVqQyxPQUFPRixRQUFRQyxJQUFJLENBQUNDLEtBQUs7UUFBQztRQUM1RCxJQUFJLENBQUNELE1BQU07WUFDVCxPQUFPUixrRkFBWUEsQ0FBQ1UsSUFBSSxDQUFDO2dCQUFFQyxTQUFTO1lBQWlCLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUN4RTtRQUVBLG1EQUFtRDtRQUNuRCxJQUFJSixLQUFLK0IsS0FBSyxFQUFFO1lBQ2Qsd0NBQXdDO1lBQ3hDLE1BQU1JLFdBQVduQyxLQUFLK0IsS0FBSyxDQUFDSyxLQUFLLENBQUMsS0FBS0MsS0FBSyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQ0QsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ2pFLE1BQU14Qyx1REFBVUEsQ0FBQzJCLFFBQVEsQ0FBQ2UsT0FBTyxDQUFDLENBQUMsUUFBUSxFQUFFSCxTQUFTLENBQUM7UUFDekQ7UUFFQSx5QkFBeUI7UUFDekIsTUFBTXpDLG9EQUFJQSxDQUFDb0MsZ0JBQWdCLENBQ3pCO1lBQUU3QixPQUFPRixRQUFRQyxJQUFJLENBQUNDLEtBQUs7UUFBQyxHQUM1QjtZQUFFOEIsT0FBTztRQUFLO1FBR2hCLE9BQU92QyxrRkFBWUEsQ0FBQ1UsSUFBSSxDQUN0QjtZQUFFQyxTQUFTO1FBQThCLEdBQ3pDO1lBQUVDLFFBQVE7UUFBSTtJQUVsQixFQUFFLE9BQU91QixPQUFPO1FBQ2RLLFFBQVFMLEtBQUssQ0FBQywwQkFBMEJBO1FBQ3hDLE9BQU9uQyxrRkFBWUEsQ0FBQ1UsSUFBSSxDQUN0QjtZQUFFQyxTQUFTO1FBQXdCLEdBQ25DO1lBQUVDLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktZm9vZC1yZWNvbW1lbmRhdGlvbi8uL3NyYy9hcHAvYXBpL3VzZXIvYXZhdGFyL3JvdXRlLnRzP2E1NTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXHJcbmltcG9ydCB7IGF1dGggfSBmcm9tICdAL2F1dGgnXHJcbmltcG9ydCBVc2VyIGZyb20gJ0AvbW9kZWxzL1VzZXInXHJcbmltcG9ydCBjb25uZWN0REIgZnJvbSAnQC9saWIvbW9uZ29kYidcclxuaW1wb3J0IGNsb3VkaW5hcnkgZnJvbSAnQC9saWIvY2xvdWRpbmFyeSdcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGF1dGgoKVxyXG4gICAgaWYgKCFzZXNzaW9uPy51c2VyPy5lbWFpbCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9LCB7IHN0YXR1czogNDAxIH0pXHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgY29ubmVjdERCKClcclxuXHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IGF3YWl0IHJlcXVlc3QuZm9ybURhdGEoKVxyXG4gICAgY29uc3QgZmlsZSA9IGZvcm1EYXRhLmdldCgnaW1hZ2UnKSBhcyBGaWxlXHJcbiAgICBpZiAoIWZpbGUpIHtcclxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgbWVzc2FnZTogJ05vIGZpbGUgdXBsb2FkZWQnIH0sIHsgc3RhdHVzOiA0MDAgfSlcclxuICAgIH1cclxuXHJcbiAgICAvLyBWYWxpZGF0ZSBmaWxlIHR5cGVcclxuICAgIGlmICghZmlsZS50eXBlLnN0YXJ0c1dpdGgoJ2ltYWdlLycpKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG1lc3NhZ2U6ICdJbnZhbGlkIGZpbGUgdHlwZScgfSwgeyBzdGF0dXM6IDQwMCB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFZhbGlkYXRlIGZpbGUgc2l6ZSAoNU1CKVxyXG4gICAgaWYgKGZpbGUuc2l6ZSA+IDUgKiAxMDI0ICogMTAyNCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBtZXNzYWdlOiAnRmlsZSBzaXplIHRvbyBsYXJnZScgfSwgeyBzdGF0dXM6IDQwMCB9KVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGJ5dGVzID0gYXdhaXQgZmlsZS5hcnJheUJ1ZmZlcigpXHJcbiAgICBjb25zdCBidWZmZXIgPSBCdWZmZXIuZnJvbShieXRlcylcclxuXHJcbiAgICAvLyBDb252ZXJ0IGJ1ZmZlciB0byBiYXNlNjRcclxuICAgIGNvbnN0IGJhc2U2NFN0cmluZyA9IGJ1ZmZlci50b1N0cmluZygnYmFzZTY0JylcclxuICAgIGNvbnN0IGRhdGFVUkkgPSBgZGF0YToke2ZpbGUudHlwZX07YmFzZTY0LCR7YmFzZTY0U3RyaW5nfWBcclxuXHJcbiAgICAvLyBVcGxvYWQgdG8gQ2xvdWRpbmFyeVxyXG4gICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBjbG91ZGluYXJ5LnVwbG9hZGVyLnVwbG9hZChcclxuICAgICAgICBkYXRhVVJJLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgIGZvbGRlcjogJ2F2YXRhcnMnLFxyXG4gICAgICAgICAgcmVzb3VyY2VfdHlwZTogJ2F1dG8nLFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgKGVycm9yLCByZXN1bHQpID0+IHtcclxuICAgICAgICAgIGlmIChlcnJvcikgcmVqZWN0KGVycm9yKVxyXG4gICAgICAgICAgZWxzZSByZXNvbHZlKHJlc3VsdClcclxuICAgICAgICB9XHJcbiAgICAgIClcclxuICAgIH0pXHJcblxyXG4gICAgLy8gVXBkYXRlIHVzZXIncyBhdmF0YXIgaW4gTW9uZ29EQlxyXG4gICAgY29uc3QgaW1hZ2VVcmwgPSAocmVzdWx0IGFzIGFueSkuc2VjdXJlX3VybFxyXG4gICAgYXdhaXQgVXNlci5maW5kT25lQW5kVXBkYXRlKFxyXG4gICAgICB7IGVtYWlsOiBzZXNzaW9uLnVzZXIuZW1haWwgfSxcclxuICAgICAgeyBpbWFnZTogaW1hZ2VVcmwgfVxyXG4gICAgKVxyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBtZXNzYWdlOiAnQXZhdGFyIHVwZGF0ZWQgc3VjY2Vzc2Z1bGx5JywgaW1hZ2VVcmwgfSxcclxuICAgICAgeyBzdGF0dXM6IDIwMCB9XHJcbiAgICApXHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVwbG9hZGluZyBhdmF0YXI6JywgZXJyb3IpXHJcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgIHsgbWVzc2FnZTogJ0Vycm9yIHVwbG9hZGluZyBhdmF0YXInIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKVxyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIERFTEVURSgpIHtcclxuICB0cnkge1xyXG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGF1dGgoKVxyXG4gICAgaWYgKCFzZXNzaW9uPy51c2VyPy5lbWFpbCkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBtZXNzYWdlOiAnVW5hdXRob3JpemVkJyB9LCB7IHN0YXR1czogNDAxIH0pXHJcbiAgICB9XHJcblxyXG4gICAgYXdhaXQgY29ubmVjdERCKClcclxuXHJcbiAgICAvLyBHZXQgY3VycmVudCB1c2VyXHJcbiAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgZW1haWw6IHNlc3Npb24udXNlci5lbWFpbCB9KVxyXG4gICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG1lc3NhZ2U6ICdVc2VyIG5vdCBmb3VuZCcgfSwgeyBzdGF0dXM6IDQwNCB9KVxyXG4gICAgfVxyXG5cclxuICAgIC8vIElmIHVzZXIgaGFzIGFuIGF2YXRhciwgZGVsZXRlIGl0IGZyb20gQ2xvdWRpbmFyeVxyXG4gICAgaWYgKHVzZXIuaW1hZ2UpIHtcclxuICAgICAgLy8gRXh0cmFjdCBwdWJsaWNfaWQgZnJvbSBDbG91ZGluYXJ5IFVSTFxyXG4gICAgICBjb25zdCBwdWJsaWNJZCA9IHVzZXIuaW1hZ2Uuc3BsaXQoJy8nKS5zbGljZSgtMSlbMF0uc3BsaXQoJy4nKVswXVxyXG4gICAgICBhd2FpdCBjbG91ZGluYXJ5LnVwbG9hZGVyLmRlc3Ryb3koYGF2YXRhcnMvJHtwdWJsaWNJZH1gKVxyXG4gICAgfVxyXG5cclxuICAgIC8vIFVwZGF0ZSB1c2VyIGluIE1vbmdvREJcclxuICAgIGF3YWl0IFVzZXIuZmluZE9uZUFuZFVwZGF0ZShcclxuICAgICAgeyBlbWFpbDogc2Vzc2lvbi51c2VyLmVtYWlsIH0sXHJcbiAgICAgIHsgaW1hZ2U6IG51bGwgfVxyXG4gICAgKVxyXG5cclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBtZXNzYWdlOiAnQXZhdGFyIGRlbGV0ZWQgc3VjY2Vzc2Z1bGx5JyB9LFxyXG4gICAgICB7IHN0YXR1czogMjAwIH1cclxuICAgIClcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgYXZhdGFyOicsIGVycm9yKVxyXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxyXG4gICAgICB7IG1lc3NhZ2U6ICdFcnJvciBkZWxldGluZyBhdmF0YXInIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKVxyXG4gIH1cclxufSAiXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiYXV0aCIsIlVzZXIiLCJjb25uZWN0REIiLCJjbG91ZGluYXJ5IiwiUE9TVCIsInJlcXVlc3QiLCJzZXNzaW9uIiwidXNlciIsImVtYWlsIiwianNvbiIsIm1lc3NhZ2UiLCJzdGF0dXMiLCJmb3JtRGF0YSIsImZpbGUiLCJnZXQiLCJ0eXBlIiwic3RhcnRzV2l0aCIsInNpemUiLCJieXRlcyIsImFycmF5QnVmZmVyIiwiYnVmZmVyIiwiQnVmZmVyIiwiZnJvbSIsImJhc2U2NFN0cmluZyIsInRvU3RyaW5nIiwiZGF0YVVSSSIsInJlc3VsdCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwidXBsb2FkZXIiLCJ1cGxvYWQiLCJmb2xkZXIiLCJyZXNvdXJjZV90eXBlIiwiZXJyb3IiLCJpbWFnZVVybCIsInNlY3VyZV91cmwiLCJmaW5kT25lQW5kVXBkYXRlIiwiaW1hZ2UiLCJjb25zb2xlIiwiREVMRVRFIiwiZmluZE9uZSIsInB1YmxpY0lkIiwic3BsaXQiLCJzbGljZSIsImRlc3Ryb3kiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/user/avatar/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/auth.ts":
/*!*********************!*\
  !*** ./src/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   handlers: () => (/* binding */ handlers),\n/* harmony export */   signIn: () => (/* binding */ signIn),\n/* harmony export */   signOut: () => (/* binding */ signOut)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth_providers_github__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/github */ \"(rsc)/./node_modules/next-auth/providers/github.js\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n/* harmony import */ var _lib_dbConnect__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/dbConnect */ \"(rsc)/./src/lib/dbConnect.ts\");\n/* harmony import */ var _models_User__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/models/User */ \"(rsc)/./src/models/User.ts\");\n\n\n\n\n\n\nconst { handlers, signIn, signOut, auth } = (0,next_auth__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    providers: [\n        (0,next_auth_providers_github__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            clientId: process.env.AUTH_GITHUB_ID,\n            clientSecret: process.env.AUTH_GITHUB_SECRET,\n            allowDangerousEmailAccountLinking: true\n        }),\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_2__[\"default\"])({\n            name: \"credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                if (!credentials?.email || !credentials?.password) {\n                    console.log(\"Missing credentials:\", {\n                        email: !!credentials?.email,\n                        password: !!credentials?.password\n                    });\n                    throw new Error(\"Vui l\\xf2ng nhập email v\\xe0 mật khẩu\");\n                }\n                try {\n                    await (0,_lib_dbConnect__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n                    const user = await _models_User__WEBPACK_IMPORTED_MODULE_5__[\"default\"].findOne({\n                        email: credentials.email\n                    });\n                    console.log(\"Found user:\", {\n                        exists: !!user,\n                        hasPassword: !!user?.password,\n                        email: user?.email,\n                        password: user?.password ? \"exists\" : \"missing\"\n                    });\n                    if (!user) {\n                        throw new Error(\"Email chưa được đăng k\\xfd\");\n                    }\n                    if (!user.password) {\n                        throw new Error(\"T\\xe0i khoản n\\xe0y chưa được thiết lập mật khẩu. Vui l\\xf2ng đăng nhập bằng GitHub\");\n                    }\n                    const isPasswordValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_3__[\"default\"].compare(credentials.password, user.password);\n                    console.log(\"Password validation:\", {\n                        isValid: isPasswordValid\n                    });\n                    if (!isPasswordValid) {\n                        throw new Error(\"Mật khẩu kh\\xf4ng đ\\xfang\");\n                    }\n                    return {\n                        id: user._id.toString(),\n                        email: user.email,\n                        name: user.name,\n                        image: user.image\n                    };\n                } catch (error) {\n                    console.error(\"Error in authorize:\", error);\n                    throw new Error(error.message || \"Đ\\xe3 xảy ra lỗi khi đăng nhập\");\n                }\n            }\n        })\n    ],\n    pages: {\n        signIn: \"/login\"\n    },\n    callbacks: {\n        async signIn ({ user, account, profile }) {\n            if (account?.provider === \"github\") {\n                try {\n                    await (0,_lib_dbConnect__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n                    const existingUser = await _models_User__WEBPACK_IMPORTED_MODULE_5__[\"default\"].findOne({\n                        email: user.email\n                    });\n                    console.log(\"GitHub signIn - Existing user:\", {\n                        exists: !!existingUser,\n                        hasPassword: !!existingUser?.password,\n                        email: existingUser?.email\n                    });\n                    if (!existingUser) {\n                        // Tạo user mới với mật khẩu ngẫu nhiên\n                        const randomPassword = Math.random().toString(36).slice(-8);\n                        const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_3__[\"default\"].hash(randomPassword, 10);\n                        console.log(\"GitHub signIn - Creating new user with password\");\n                        const newUser = await _models_User__WEBPACK_IMPORTED_MODULE_5__[\"default\"].create({\n                            email: user.email,\n                            name: user.name,\n                            image: user.image,\n                            password: hashedPassword\n                        });\n                        console.log(\"GitHub signIn - New user created:\", {\n                            id: newUser._id,\n                            hasPassword: !!newUser.password\n                        });\n                    } else {\n                        // Nếu user đã tồn tại nhưng chưa có mật khẩu, tạo mật khẩu ngẫu nhiên\n                        if (!existingUser.password) {\n                            const randomPassword = Math.random().toString(36).slice(-8);\n                            const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_3__[\"default\"].hash(randomPassword, 10);\n                            console.log(\"GitHub signIn - Adding password to existing user\");\n                            existingUser.password = hashedPassword;\n                            await existingUser.save();\n                            console.log(\"GitHub signIn - Password added:\", {\n                                hasPassword: !!existingUser.password\n                            });\n                        }\n                        // Update existing user's information\n                        await _models_User__WEBPACK_IMPORTED_MODULE_5__[\"default\"].findOneAndUpdate({\n                            email: user.email\n                        }, {\n                            name: user.name,\n                            image: user.image,\n                            updatedAt: new Date()\n                        });\n                    }\n                    return true;\n                } catch (error) {\n                    console.error(\"Error in signIn callback:\", error);\n                    return false;\n                }\n            }\n            return true;\n        },\n        async session ({ session, token }) {\n            if (session?.user) {\n                try {\n                    await (0,_lib_dbConnect__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n                    const user = await _models_User__WEBPACK_IMPORTED_MODULE_5__[\"default\"].findOne({\n                        email: session.user.email\n                    });\n                    if (user) {\n                        session.user = {\n                            ...session.user,\n                            id: user._id.toString(),\n                            phone: user.phone,\n                            address: user.address,\n                            bio: user.bio,\n                            age: user.age,\n                            gender: user.gender,\n                            weight: user.weight,\n                            height: user.height,\n                            activityLevel: user.activityLevel,\n                            medicalConditions: user.medicalConditions,\n                            createdAt: user.createdAt,\n                            updatedAt: user.updatedAt\n                        };\n                    }\n                } catch (error) {\n                    console.error(\"Error in session callback:\", error);\n                }\n            }\n            return session;\n        },\n        async jwt ({ token, user, account }) {\n            if (user) {\n                token.id = user.id;\n            }\n            return token;\n        }\n    },\n    secret: process.env.AUTH_SECRET,\n    session: {\n        strategy: \"jwt\",\n        maxAge: 30 * 24 * 60 * 60,\n        updateAge: 24 * 60 * 60\n    },\n    cookies: {\n        sessionToken: {\n            name: `next-auth.session-token`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: false\n            }\n        },\n        callbackUrl: {\n            name: `next-auth.callback-url`,\n            options: {\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: false\n            }\n        },\n        csrfToken: {\n            name: `next-auth.csrf-token`,\n            options: {\n                httpOnly: true,\n                sameSite: \"lax\",\n                path: \"/\",\n                secure: false\n            }\n        }\n    },\n    debug: \"development\" === \"development\"\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0EsT0FBT3lCO1FBQ1Q7SUFDRjtJQUNBWSxRQUFRNUQsUUFBUUMsR0FBRyxDQUFDNEQsV0FBVztJQUMvQmQsU0FBUztRQUNQZSxVQUFVO1FBQ1ZDLFFBQVEsS0FBSyxLQUFLLEtBQUs7UUFDdkJDLFdBQVcsS0FBSyxLQUFLO0lBQ3ZCO0lBQ0FDLFNBQVM7UUFDUEMsY0FBYztZQUNaNUQsTUFBTSxDQUFDLHVCQUF1QixDQUFDO1lBQy9CNkQsU0FBUztnQkFDUEMsVUFBVTtnQkFDVkMsVUFBVTtnQkFDVkMsTUFBTTtnQkFDTkMsUUFBUTtZQUNWO1FBQ0Y7UUFDQUMsYUFBYTtZQUNYbEUsTUFBTSxDQUFDLHNCQUFzQixDQUFDO1lBQzlCNkQsU0FBUztnQkFDUEUsVUFBVTtnQkFDVkMsTUFBTTtnQkFDTkMsUUFBUTtZQUNWO1FBQ0Y7UUFDQUUsV0FBVztZQUNUbkUsTUFBTSxDQUFDLG9CQUFvQixDQUFDO1lBQzVCNkQsU0FBUztnQkFDUEMsVUFBVTtnQkFDVkMsVUFBVTtnQkFDVkMsTUFBTTtnQkFDTkMsUUFBUTtZQUNWO1FBQ0Y7SUFDRjtJQUNBRyxPQUFPMUUsa0JBQXlCO0FBQ2xDLEdBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9haS1mb29kLXJlY29tbWVuZGF0aW9uLy4vc3JjL2F1dGgudHM/NjJkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTmV4dEF1dGggZnJvbSBcIm5leHQtYXV0aFwiXHJcbmltcG9ydCBHaXRodWJQcm92aWRlciBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9naXRodWJcIlxyXG5pbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9jcmVkZW50aWFsc1wiXHJcbmltcG9ydCBiY3J5cHQgZnJvbSBcImJjcnlwdGpzXCJcclxuaW1wb3J0IGRiQ29ubmVjdCBmcm9tIFwiQC9saWIvZGJDb25uZWN0XCJcclxuaW1wb3J0IFVzZXIgZnJvbSBcIkAvbW9kZWxzL1VzZXJcIlxyXG5cclxuZXhwb3J0IGNvbnN0IHsgaGFuZGxlcnMsIHNpZ25Jbiwgc2lnbk91dCwgYXV0aCB9ID0gTmV4dEF1dGgoe1xyXG4gIHByb3ZpZGVyczogW1xyXG4gICAgR2l0aHViUHJvdmlkZXIoe1xyXG4gICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuQVVUSF9HSVRIVUJfSUQhLFxyXG4gICAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkFVVEhfR0lUSFVCX1NFQ1JFVCEsXHJcbiAgICAgIGFsbG93RGFuZ2Vyb3VzRW1haWxBY2NvdW50TGlua2luZzogdHJ1ZSxcclxuICAgIH0pLFxyXG4gICAgQ3JlZGVudGlhbHNQcm92aWRlcih7XHJcbiAgICAgIG5hbWU6IFwiY3JlZGVudGlhbHNcIixcclxuICAgICAgY3JlZGVudGlhbHM6IHtcclxuICAgICAgICBlbWFpbDogeyBsYWJlbDogXCJFbWFpbFwiLCB0eXBlOiBcImVtYWlsXCIgfSxcclxuICAgICAgICBwYXNzd29yZDogeyBsYWJlbDogXCJQYXNzd29yZFwiLCB0eXBlOiBcInBhc3N3b3JkXCIgfVxyXG4gICAgICB9LFxyXG4gICAgICBhc3luYyBhdXRob3JpemUoY3JlZGVudGlhbHMpIHtcclxuICAgICAgICBpZiAoIWNyZWRlbnRpYWxzPy5lbWFpbCB8fCAhY3JlZGVudGlhbHM/LnBhc3N3b3JkKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnTWlzc2luZyBjcmVkZW50aWFsczonLCB7IGVtYWlsOiAhIWNyZWRlbnRpYWxzPy5lbWFpbCwgcGFzc3dvcmQ6ICEhY3JlZGVudGlhbHM/LnBhc3N3b3JkIH0pXHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Z1aSBsw7JuZyBuaOG6rXAgZW1haWwgdsOgIG3huq10IGto4bqpdScpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgYXdhaXQgZGJDb25uZWN0KClcclxuICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBlbWFpbDogY3JlZGVudGlhbHMuZW1haWwgfSlcclxuICAgICAgICAgIGNvbnNvbGUubG9nKCdGb3VuZCB1c2VyOicsIHsgXHJcbiAgICAgICAgICAgIGV4aXN0czogISF1c2VyLCBcclxuICAgICAgICAgICAgaGFzUGFzc3dvcmQ6ICEhdXNlcj8ucGFzc3dvcmQsXHJcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyPy5lbWFpbCxcclxuICAgICAgICAgICAgcGFzc3dvcmQ6IHVzZXI/LnBhc3N3b3JkID8gJ2V4aXN0cycgOiAnbWlzc2luZydcclxuICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgaWYgKCF1c2VyKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRW1haWwgY2jGsGEgxJHGsOG7o2MgxJHEg25nIGvDvScpXHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgaWYgKCF1c2VyLnBhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVMOgaSBraG/huqNuIG7DoHkgY2jGsGEgxJHGsOG7o2MgdGhp4bq/dCBs4bqtcCBt4bqtdCBraOG6qXUuIFZ1aSBsw7JuZyDEkcSDbmcgbmjhuq1wIGLhurFuZyBHaXRIdWInKVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIGNvbnN0IGlzUGFzc3dvcmRWYWxpZCA9IGF3YWl0IGJjcnlwdC5jb21wYXJlKFxyXG4gICAgICAgICAgICBjcmVkZW50aWFscy5wYXNzd29yZCBhcyBzdHJpbmcsXHJcbiAgICAgICAgICAgIHVzZXIucGFzc3dvcmQgYXMgc3RyaW5nXHJcbiAgICAgICAgICApXHJcbiAgICAgICAgICBjb25zb2xlLmxvZygnUGFzc3dvcmQgdmFsaWRhdGlvbjonLCB7IGlzVmFsaWQ6IGlzUGFzc3dvcmRWYWxpZCB9KVxyXG5cclxuICAgICAgICAgIGlmICghaXNQYXNzd29yZFZhbGlkKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTeG6rXQga2jhuql1IGtow7RuZyDEkcO6bmcnKVxyXG4gICAgICAgICAgfVxyXG5cclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGlkOiB1c2VyLl9pZC50b1N0cmluZygpLFxyXG4gICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcclxuICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxyXG4gICAgICAgICAgICBpbWFnZTogdXNlci5pbWFnZSxcclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcjogYW55KSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBhdXRob3JpemU6JywgZXJyb3IpXHJcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyb3IubWVzc2FnZSB8fCAnxJDDoyB44bqjeSByYSBs4buXaSBraGkgxJHEg25nIG5o4bqtcCcpXHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9KVxyXG4gIF0sXHJcbiAgcGFnZXM6IHtcclxuICAgIHNpZ25JbjogXCIvbG9naW5cIixcclxuICB9LFxyXG4gIGNhbGxiYWNrczoge1xyXG4gICAgYXN5bmMgc2lnbkluKHsgdXNlciwgYWNjb3VudCwgcHJvZmlsZSB9OiBhbnkpIHtcclxuICAgICAgaWYgKGFjY291bnQ/LnByb3ZpZGVyID09PSBcImdpdGh1YlwiKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGF3YWl0IGRiQ29ubmVjdCgpXHJcbiAgICAgICAgICBjb25zdCBleGlzdGluZ1VzZXIgPSBhd2FpdCBVc2VyLmZpbmRPbmUoeyBlbWFpbDogdXNlci5lbWFpbCB9KVxyXG4gICAgICAgICAgY29uc29sZS5sb2coJ0dpdEh1YiBzaWduSW4gLSBFeGlzdGluZyB1c2VyOicsIHsgXHJcbiAgICAgICAgICAgIGV4aXN0czogISFleGlzdGluZ1VzZXIsIFxyXG4gICAgICAgICAgICBoYXNQYXNzd29yZDogISFleGlzdGluZ1VzZXI/LnBhc3N3b3JkLFxyXG4gICAgICAgICAgICBlbWFpbDogZXhpc3RpbmdVc2VyPy5lbWFpbCBcclxuICAgICAgICAgIH0pXHJcbiAgICAgICAgICBcclxuICAgICAgICAgIGlmICghZXhpc3RpbmdVc2VyKSB7XHJcbiAgICAgICAgICAgIC8vIFThuqFvIHVzZXIgbeG7m2kgduG7m2kgbeG6rXQga2jhuql1IG5n4bqrdSBuaGnDqm5cclxuICAgICAgICAgICAgY29uc3QgcmFuZG9tUGFzc3dvcmQgPSBNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zbGljZSgtOClcclxuICAgICAgICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChyYW5kb21QYXNzd29yZCwgMTApXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHaXRIdWIgc2lnbkluIC0gQ3JlYXRpbmcgbmV3IHVzZXIgd2l0aCBwYXNzd29yZCcpXHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBjb25zdCBuZXdVc2VyID0gYXdhaXQgVXNlci5jcmVhdGUoe1xyXG4gICAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxyXG4gICAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcclxuICAgICAgICAgICAgICBpbWFnZTogdXNlci5pbWFnZSxcclxuICAgICAgICAgICAgICBwYXNzd29yZDogaGFzaGVkUGFzc3dvcmQsXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdHaXRIdWIgc2lnbkluIC0gTmV3IHVzZXIgY3JlYXRlZDonLCB7IFxyXG4gICAgICAgICAgICAgIGlkOiBuZXdVc2VyLl9pZCxcclxuICAgICAgICAgICAgICBoYXNQYXNzd29yZDogISFuZXdVc2VyLnBhc3N3b3JkIFxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gTuG6v3UgdXNlciDEkcOjIHThu5NuIHThuqFpIG5oxrBuZyBjaMawYSBjw7MgbeG6rXQga2jhuql1LCB04bqhbyBt4bqtdCBraOG6qXUgbmfhuqt1IG5oacOqblxyXG4gICAgICAgICAgICBpZiAoIWV4aXN0aW5nVXNlci5wYXNzd29yZCkge1xyXG4gICAgICAgICAgICAgIGNvbnN0IHJhbmRvbVBhc3N3b3JkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoLTgpXHJcbiAgICAgICAgICAgICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChyYW5kb21QYXNzd29yZCwgMTApXHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0dpdEh1YiBzaWduSW4gLSBBZGRpbmcgcGFzc3dvcmQgdG8gZXhpc3RpbmcgdXNlcicpXHJcbiAgICAgICAgICAgICAgZXhpc3RpbmdVc2VyLnBhc3N3b3JkID0gaGFzaGVkUGFzc3dvcmRcclxuICAgICAgICAgICAgICBhd2FpdCBleGlzdGluZ1VzZXIuc2F2ZSgpXHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ0dpdEh1YiBzaWduSW4gLSBQYXNzd29yZCBhZGRlZDonLCB7IFxyXG4gICAgICAgICAgICAgICAgaGFzUGFzc3dvcmQ6ICEhZXhpc3RpbmdVc2VyLnBhc3N3b3JkIFxyXG4gICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBleGlzdGluZyB1c2VyJ3MgaW5mb3JtYXRpb25cclxuICAgICAgICAgICAgYXdhaXQgVXNlci5maW5kT25lQW5kVXBkYXRlKFxyXG4gICAgICAgICAgICAgIHsgZW1haWw6IHVzZXIuZW1haWwgfSxcclxuICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBuYW1lOiB1c2VyLm5hbWUsXHJcbiAgICAgICAgICAgICAgICBpbWFnZTogdXNlci5pbWFnZSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgICAgcmV0dXJuIHRydWVcclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluIHNpZ25JbiBjYWxsYmFjazpcIiwgZXJyb3IpXHJcbiAgICAgICAgICByZXR1cm4gZmFsc2VcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgICAgcmV0dXJuIHRydWVcclxuICAgIH0sXHJcbiAgICBhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfTogYW55KSB7XHJcbiAgICAgIGlmIChzZXNzaW9uPy51c2VyKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIGF3YWl0IGRiQ29ubmVjdCgpXHJcbiAgICAgICAgICBjb25zdCB1c2VyID0gYXdhaXQgVXNlci5maW5kT25lKHsgZW1haWw6IHNlc3Npb24udXNlci5lbWFpbCB9KVxyXG4gICAgICAgICAgaWYgKHVzZXIpIHtcclxuICAgICAgICAgICAgc2Vzc2lvbi51c2VyID0ge1xyXG4gICAgICAgICAgICAgIC4uLnNlc3Npb24udXNlcixcclxuICAgICAgICAgICAgICBpZDogdXNlci5faWQudG9TdHJpbmcoKSxcclxuICAgICAgICAgICAgICBwaG9uZTogdXNlci5waG9uZSxcclxuICAgICAgICAgICAgICBhZGRyZXNzOiB1c2VyLmFkZHJlc3MsXHJcbiAgICAgICAgICAgICAgYmlvOiB1c2VyLmJpbyxcclxuICAgICAgICAgICAgICBhZ2U6IHVzZXIuYWdlLFxyXG4gICAgICAgICAgICAgIGdlbmRlcjogdXNlci5nZW5kZXIsXHJcbiAgICAgICAgICAgICAgd2VpZ2h0OiB1c2VyLndlaWdodCxcclxuICAgICAgICAgICAgICBoZWlnaHQ6IHVzZXIuaGVpZ2h0LFxyXG4gICAgICAgICAgICAgIGFjdGl2aXR5TGV2ZWw6IHVzZXIuYWN0aXZpdHlMZXZlbCxcclxuICAgICAgICAgICAgICBtZWRpY2FsQ29uZGl0aW9uczogdXNlci5tZWRpY2FsQ29uZGl0aW9ucyxcclxuICAgICAgICAgICAgICBjcmVhdGVkQXQ6IHVzZXIuY3JlYXRlZEF0LFxyXG4gICAgICAgICAgICAgIHVwZGF0ZWRBdDogdXNlci51cGRhdGVkQXQsXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH1cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGluIHNlc3Npb24gY2FsbGJhY2s6XCIsIGVycm9yKVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgICByZXR1cm4gc2Vzc2lvblxyXG4gICAgfSxcclxuICAgIGFzeW5jIGp3dCh7IHRva2VuLCB1c2VyLCBhY2NvdW50IH06IGFueSkge1xyXG4gICAgICBpZiAodXNlcikge1xyXG4gICAgICAgIHRva2VuLmlkID0gdXNlci5pZFxyXG4gICAgICB9XHJcbiAgICAgIHJldHVybiB0b2tlblxyXG4gICAgfVxyXG4gIH0sXHJcbiAgc2VjcmV0OiBwcm9jZXNzLmVudi5BVVRIX1NFQ1JFVCxcclxuICBzZXNzaW9uOiB7XHJcbiAgICBzdHJhdGVneTogXCJqd3RcIiBhcyBjb25zdCxcclxuICAgIG1heEFnZTogMzAgKiAyNCAqIDYwICogNjAsIC8vIDMwIGRheXNcclxuICAgIHVwZGF0ZUFnZTogMjQgKiA2MCAqIDYwLCAvLyAyNCBob3Vyc1xyXG4gIH0sXHJcbiAgY29va2llczoge1xyXG4gICAgc2Vzc2lvblRva2VuOiB7XHJcbiAgICAgIG5hbWU6IGBuZXh0LWF1dGguc2Vzc2lvbi10b2tlbmAsXHJcbiAgICAgIG9wdGlvbnM6IHtcclxuICAgICAgICBodHRwT25seTogdHJ1ZSxcclxuICAgICAgICBzYW1lU2l0ZTogXCJsYXhcIixcclxuICAgICAgICBwYXRoOiBcIi9cIixcclxuICAgICAgICBzZWN1cmU6IGZhbHNlLFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICAgIGNhbGxiYWNrVXJsOiB7XHJcbiAgICAgIG5hbWU6IGBuZXh0LWF1dGguY2FsbGJhY2stdXJsYCxcclxuICAgICAgb3B0aW9uczoge1xyXG4gICAgICAgIHNhbWVTaXRlOiBcImxheFwiLFxyXG4gICAgICAgIHBhdGg6IFwiL1wiLFxyXG4gICAgICAgIHNlY3VyZTogZmFsc2UsXHJcbiAgICAgIH0sXHJcbiAgICB9LFxyXG4gICAgY3NyZlRva2VuOiB7XHJcbiAgICAgIG5hbWU6IGBuZXh0LWF1dGguY3NyZi10b2tlbmAsXHJcbiAgICAgIG9wdGlvbnM6IHtcclxuICAgICAgICBodHRwT25seTogdHJ1ZSxcclxuICAgICAgICBzYW1lU2l0ZTogXCJsYXhcIixcclxuICAgICAgICBwYXRoOiBcIi9cIixcclxuICAgICAgICBzZWN1cmU6IGZhbHNlLFxyXG4gICAgICB9LFxyXG4gICAgfSxcclxuICB9LFxyXG4gIGRlYnVnOiBwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiLFxyXG59KSJdLCJuYW1lcyI6WyJOZXh0QXV0aCIsIkdpdGh1YlByb3ZpZGVyIiwiQ3JlZGVudGlhbHNQcm92aWRlciIsImJjcnlwdCIsImRiQ29ubmVjdCIsIlVzZXIiLCJoYW5kbGVycyIsInNpZ25JbiIsInNpZ25PdXQiLCJhdXRoIiwicHJvdmlkZXJzIiwiY2xpZW50SWQiLCJwcm9jZXNzIiwiZW52IiwiQVVUSF9HSVRIVUJfSUQiLCJjbGllbnRTZWNyZXQiLCJBVVRIX0dJVEhVQl9TRUNSRVQiLCJhbGxvd0Rhbmdlcm91c0VtYWlsQWNjb3VudExpbmtpbmciLCJuYW1lIiwiY3JlZGVudGlhbHMiLCJlbWFpbCIsImxhYmVsIiwidHlwZSIsInBhc3N3b3JkIiwiYXV0aG9yaXplIiwiY29uc29sZSIsImxvZyIsIkVycm9yIiwidXNlciIsImZpbmRPbmUiLCJleGlzdHMiLCJoYXNQYXNzd29yZCIsImlzUGFzc3dvcmRWYWxpZCIsImNvbXBhcmUiLCJpc1ZhbGlkIiwiaWQiLCJfaWQiLCJ0b1N0cmluZyIsImltYWdlIiwiZXJyb3IiLCJtZXNzYWdlIiwicGFnZXMiLCJjYWxsYmFja3MiLCJhY2NvdW50IiwicHJvZmlsZSIsInByb3ZpZGVyIiwiZXhpc3RpbmdVc2VyIiwicmFuZG9tUGFzc3dvcmQiLCJNYXRoIiwicmFuZG9tIiwic2xpY2UiLCJoYXNoZWRQYXNzd29yZCIsImhhc2giLCJuZXdVc2VyIiwiY3JlYXRlIiwic2F2ZSIsImZpbmRPbmVBbmRVcGRhdGUiLCJ1cGRhdGVkQXQiLCJEYXRlIiwic2Vzc2lvbiIsInRva2VuIiwicGhvbmUiLCJhZGRyZXNzIiwiYmlvIiwiYWdlIiwiZ2VuZGVyIiwid2VpZ2h0IiwiaGVpZ2h0IiwiYWN0aXZpdHlMZXZlbCIsIm1lZGljYWxDb25kaXRpb25zIiwiY3JlYXRlZEF0Iiwiand0Iiwic2VjcmV0IiwiQVVUSF9TRUNSRVQiLCJzdHJhdGVneSIsIm1heEFnZSIsInVwZGF0ZUFnZSIsImNvb2tpZXMiLCJzZXNzaW9uVG9rZW4iLCJvcHRpb25zIiwiaHR0cE9ubHkiLCJzYW1lU2l0ZSIsInBhdGgiLCJzZWN1cmUiLCJjYWxsYmFja1VybCIsImNzcmZUb2tlbiIsImRlYnVnIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/auth.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/cloudinary.ts":
/*!*******************************!*\
  !*** ./src/lib/cloudinary.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var cloudinary__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! cloudinary */ \"(rsc)/./node_modules/cloudinary/cloudinary.js\");\n/* harmony import */ var cloudinary__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(cloudinary__WEBPACK_IMPORTED_MODULE_0__);\n\ncloudinary__WEBPACK_IMPORTED_MODULE_0__.v2.config({\n    cloud_name: \"dnapzxvmr\",\n    api_key: process.env.CLOUDINARY_API_KEY,\n    api_secret: process.env.CLOUDINARY_API_SECRET\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (cloudinary__WEBPACK_IMPORTED_MODULE_0__.v2);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2Nsb3VkaW5hcnkudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQTZDO0FBRTdDQywwQ0FBVUEsQ0FBQ0MsTUFBTSxDQUFDO0lBQ2hCQyxZQUFZQyxXQUE2QztJQUN6REcsU0FBU0gsUUFBUUMsR0FBRyxDQUFDRyxrQkFBa0I7SUFDdkNDLFlBQVlMLFFBQVFDLEdBQUcsQ0FBQ0sscUJBQXFCO0FBQy9DO0FBRUEsaUVBQWVULDBDQUFVQSxFQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vYWktZm9vZC1yZWNvbW1lbmRhdGlvbi8uL3NyYy9saWIvY2xvdWRpbmFyeS50cz9lMWZhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHYyIGFzIGNsb3VkaW5hcnkgfSBmcm9tICdjbG91ZGluYXJ5J1xyXG5cclxuY2xvdWRpbmFyeS5jb25maWcoe1xyXG4gIGNsb3VkX25hbWU6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0NMT1VESU5BUllfQ0xPVURfTkFNRSxcclxuICBhcGlfa2V5OiBwcm9jZXNzLmVudi5DTE9VRElOQVJZX0FQSV9LRVksXHJcbiAgYXBpX3NlY3JldDogcHJvY2Vzcy5lbnYuQ0xPVURJTkFSWV9BUElfU0VDUkVULFxyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xvdWRpbmFyeSAiXSwibmFtZXMiOlsidjIiLCJjbG91ZGluYXJ5IiwiY29uZmlnIiwiY2xvdWRfbmFtZSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19DTE9VRElOQVJZX0NMT1VEX05BTUUiLCJhcGlfa2V5IiwiQ0xPVURJTkFSWV9BUElfS0VZIiwiYXBpX3NlY3JldCIsIkNMT1VESU5BUllfQVBJX1NFQ1JFVCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/cloudinary.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/dbConnect.ts":
/*!******************************!*\
  !*** ./src/lib/dbConnect.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nif (!process.env.MONGODB_URI) {\n    throw new Error('Invalid/Missing environment variable: \"MONGODB_URI\"');\n}\nconst MONGODB_URI = process.env.MONGODB_URI;\nlet cached = global.mongoose || {\n    conn: null,\n    promise: null\n};\nif (!global.mongoose) {\n    global.mongoose = cached;\n}\nasync function dbConnect() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: false\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts).then((mongoose)=>{\n            return mongoose;\n        });\n    }\n    try {\n        cached.conn = await cached.promise;\n    } catch (e) {\n        cached.promise = null;\n        throw e;\n    }\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiQ29ubmVjdC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFaEMsSUFBSSxDQUFDQyxRQUFRQyxHQUFHLENBQUNDLFdBQVcsRUFBRTtJQUM1QixNQUFNLElBQUlDLE1BQU07QUFDbEI7QUFFQSxNQUFNRCxjQUFjRixRQUFRQyxHQUFHLENBQUNDLFdBQVc7QUFXM0MsSUFBSUUsU0FBd0JDLE9BQU9OLFFBQVEsSUFBSTtJQUFFTyxNQUFNO0lBQU1DLFNBQVM7QUFBSztBQUUzRSxJQUFJLENBQUNGLE9BQU9OLFFBQVEsRUFBRTtJQUNwQk0sT0FBT04sUUFBUSxHQUFHSztBQUNwQjtBQUVBLGVBQWVJO0lBQ2IsSUFBSUosT0FBT0UsSUFBSSxFQUFFO1FBQ2YsT0FBT0YsT0FBT0UsSUFBSTtJQUNwQjtJQUVBLElBQUksQ0FBQ0YsT0FBT0csT0FBTyxFQUFFO1FBQ25CLE1BQU1FLE9BQU87WUFDWEMsZ0JBQWdCO1FBQ2xCO1FBRUFOLE9BQU9HLE9BQU8sR0FBR1IsdURBQWdCLENBQUNHLGFBQWFPLE1BQU1HLElBQUksQ0FBQyxDQUFDYjtZQUN6RCxPQUFPQTtRQUNUO0lBQ0Y7SUFFQSxJQUFJO1FBQ0ZLLE9BQU9FLElBQUksR0FBRyxNQUFNRixPQUFPRyxPQUFPO0lBQ3BDLEVBQUUsT0FBT00sR0FBRztRQUNWVCxPQUFPRyxPQUFPLEdBQUc7UUFDakIsTUFBTU07SUFDUjtJQUVBLE9BQU9ULE9BQU9FLElBQUk7QUFDcEI7QUFFQSxpRUFBZUUsU0FBU0EsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLWZvb2QtcmVjb21tZW5kYXRpb24vLi9zcmMvbGliL2RiQ29ubmVjdC50cz82MGE3Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBtb25nb29zZSBmcm9tICdtb25nb29zZSc7XHJcblxyXG5pZiAoIXByb2Nlc3MuZW52Lk1PTkdPREJfVVJJKSB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkL01pc3NpbmcgZW52aXJvbm1lbnQgdmFyaWFibGU6IFwiTU9OR09EQl9VUklcIicpO1xyXG59XHJcblxyXG5jb25zdCBNT05HT0RCX1VSSSA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJO1xyXG5cclxuaW50ZXJmYWNlIE1vbmdvb3NlQ2FjaGUge1xyXG4gIGNvbm46IHR5cGVvZiBtb25nb29zZSB8IG51bGw7XHJcbiAgcHJvbWlzZTogUHJvbWlzZTx0eXBlb2YgbW9uZ29vc2U+IHwgbnVsbDtcclxufVxyXG5cclxuZGVjbGFyZSBnbG9iYWwge1xyXG4gIHZhciBtb25nb29zZTogTW9uZ29vc2VDYWNoZSB8IHVuZGVmaW5lZDtcclxufVxyXG5cclxubGV0IGNhY2hlZDogTW9uZ29vc2VDYWNoZSA9IGdsb2JhbC5tb25nb29zZSB8fCB7IGNvbm46IG51bGwsIHByb21pc2U6IG51bGwgfTtcclxuXHJcbmlmICghZ2xvYmFsLm1vbmdvb3NlKSB7XHJcbiAgZ2xvYmFsLm1vbmdvb3NlID0gY2FjaGVkO1xyXG59XHJcblxyXG5hc3luYyBmdW5jdGlvbiBkYkNvbm5lY3QoKSB7XHJcbiAgaWYgKGNhY2hlZC5jb25uKSB7XHJcbiAgICByZXR1cm4gY2FjaGVkLmNvbm47XHJcbiAgfVxyXG5cclxuICBpZiAoIWNhY2hlZC5wcm9taXNlKSB7XHJcbiAgICBjb25zdCBvcHRzID0ge1xyXG4gICAgICBidWZmZXJDb21tYW5kczogZmFsc2UsXHJcbiAgICB9O1xyXG5cclxuICAgIGNhY2hlZC5wcm9taXNlID0gbW9uZ29vc2UuY29ubmVjdChNT05HT0RCX1VSSSwgb3B0cykudGhlbigobW9uZ29vc2UpID0+IHtcclxuICAgICAgcmV0dXJuIG1vbmdvb3NlO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZTtcclxuICB9IGNhdGNoIChlKSB7XHJcbiAgICBjYWNoZWQucHJvbWlzZSA9IG51bGw7XHJcbiAgICB0aHJvdyBlO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGNhY2hlZC5jb25uO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBkYkNvbm5lY3Q7ICJdLCJuYW1lcyI6WyJtb25nb29zZSIsInByb2Nlc3MiLCJlbnYiLCJNT05HT0RCX1VSSSIsIkVycm9yIiwiY2FjaGVkIiwiZ2xvYmFsIiwiY29ubiIsInByb21pc2UiLCJkYkNvbm5lY3QiLCJvcHRzIiwiYnVmZmVyQ29tbWFuZHMiLCJjb25uZWN0IiwidGhlbiIsImUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/dbConnect.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/mongodb.ts":
/*!****************************!*\
  !*** ./src/lib/mongodb.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nif (!MONGODB_URI) {\n    throw new Error(\"Please define the MONGODB_URI environment variable inside .env\");\n}\nlet cached = global.mongoose || {\n    conn: null,\n    promise: null\n};\nif (!global.mongoose) {\n    global.mongoose = cached;\n}\nasync function connectDB() {\n    if (cached.conn) {\n        return cached.conn;\n    }\n    if (!cached.promise) {\n        const opts = {\n            bufferCommands: false\n        };\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, opts).then((mongoose)=>{\n            return mongoose;\n        });\n    }\n    try {\n        cached.conn = await cached.promise;\n    } catch (e) {\n        cached.promise = null;\n        throw e;\n    }\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (connectDB);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL21vbmdvZGIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQStCO0FBRS9CLE1BQU1DLGNBQWNDLFFBQVFDLEdBQUcsQ0FBQ0YsV0FBVztBQUUzQyxJQUFJLENBQUNBLGFBQWE7SUFDaEIsTUFBTSxJQUFJRyxNQUFNO0FBQ2xCO0FBV0EsSUFBSUMsU0FBd0JDLE9BQU9OLFFBQVEsSUFBSTtJQUFFTyxNQUFNO0lBQU1DLFNBQVM7QUFBSztBQUUzRSxJQUFJLENBQUNGLE9BQU9OLFFBQVEsRUFBRTtJQUNwQk0sT0FBT04sUUFBUSxHQUFHSztBQUNwQjtBQUVBLGVBQWVJO0lBQ2IsSUFBSUosT0FBT0UsSUFBSSxFQUFFO1FBQ2YsT0FBT0YsT0FBT0UsSUFBSTtJQUNwQjtJQUVBLElBQUksQ0FBQ0YsT0FBT0csT0FBTyxFQUFFO1FBQ25CLE1BQU1FLE9BQU87WUFDWEMsZ0JBQWdCO1FBQ2xCO1FBRUFOLE9BQU9HLE9BQU8sR0FBR1IsdURBQWdCLENBQUNDLGFBQWNTLE1BQU1HLElBQUksQ0FBQyxDQUFDYjtZQUMxRCxPQUFPQTtRQUNUO0lBQ0Y7SUFFQSxJQUFJO1FBQ0ZLLE9BQU9FLElBQUksR0FBRyxNQUFNRixPQUFPRyxPQUFPO0lBQ3BDLEVBQUUsT0FBT00sR0FBRztRQUNWVCxPQUFPRyxPQUFPLEdBQUc7UUFDakIsTUFBTU07SUFDUjtJQUVBLE9BQU9ULE9BQU9FLElBQUk7QUFDcEI7QUFFQSxpRUFBZUUsU0FBU0EsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLWZvb2QtcmVjb21tZW5kYXRpb24vLi9zcmMvbGliL21vbmdvZGIudHM/NTNjMiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnXHJcblxyXG5jb25zdCBNT05HT0RCX1VSSSA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJXHJcblxyXG5pZiAoIU1PTkdPREJfVVJJKSB7XHJcbiAgdGhyb3cgbmV3IEVycm9yKCdQbGVhc2UgZGVmaW5lIHRoZSBNT05HT0RCX1VSSSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpbnNpZGUgLmVudicpXHJcbn1cclxuXHJcbmludGVyZmFjZSBNb25nb29zZUNhY2hlIHtcclxuICBjb25uOiB0eXBlb2YgbW9uZ29vc2UgfCBudWxsXHJcbiAgcHJvbWlzZTogUHJvbWlzZTx0eXBlb2YgbW9uZ29vc2U+IHwgbnVsbFxyXG59XHJcblxyXG5kZWNsYXJlIGdsb2JhbCB7XHJcbiAgdmFyIG1vbmdvb3NlOiBNb25nb29zZUNhY2hlIHwgdW5kZWZpbmVkXHJcbn1cclxuXHJcbmxldCBjYWNoZWQ6IE1vbmdvb3NlQ2FjaGUgPSBnbG9iYWwubW9uZ29vc2UgfHwgeyBjb25uOiBudWxsLCBwcm9taXNlOiBudWxsIH1cclxuXHJcbmlmICghZ2xvYmFsLm1vbmdvb3NlKSB7XHJcbiAgZ2xvYmFsLm1vbmdvb3NlID0gY2FjaGVkXHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGNvbm5lY3REQigpIHtcclxuICBpZiAoY2FjaGVkLmNvbm4pIHtcclxuICAgIHJldHVybiBjYWNoZWQuY29ublxyXG4gIH1cclxuXHJcbiAgaWYgKCFjYWNoZWQucHJvbWlzZSkge1xyXG4gICAgY29uc3Qgb3B0cyA9IHtcclxuICAgICAgYnVmZmVyQ29tbWFuZHM6IGZhbHNlLFxyXG4gICAgfVxyXG5cclxuICAgIGNhY2hlZC5wcm9taXNlID0gbW9uZ29vc2UuY29ubmVjdChNT05HT0RCX1VSSSEsIG9wdHMpLnRoZW4oKG1vbmdvb3NlKSA9PiB7XHJcbiAgICAgIHJldHVybiBtb25nb29zZVxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHRyeSB7XHJcbiAgICBjYWNoZWQuY29ubiA9IGF3YWl0IGNhY2hlZC5wcm9taXNlXHJcbiAgfSBjYXRjaCAoZSkge1xyXG4gICAgY2FjaGVkLnByb21pc2UgPSBudWxsXHJcbiAgICB0aHJvdyBlXHJcbiAgfVxyXG5cclxuICByZXR1cm4gY2FjaGVkLmNvbm5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdERCICJdLCJuYW1lcyI6WyJtb25nb29zZSIsIk1PTkdPREJfVVJJIiwicHJvY2VzcyIsImVudiIsIkVycm9yIiwiY2FjaGVkIiwiZ2xvYmFsIiwiY29ubiIsInByb21pc2UiLCJjb25uZWN0REIiLCJvcHRzIiwiYnVmZmVyQ29tbWFuZHMiLCJjb25uZWN0IiwidGhlbiIsImUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/mongodb.ts\n");

/***/ }),

/***/ "(rsc)/./src/models/User.ts":
/*!****************************!*\
  !*** ./src/models/User.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst userSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    name: {\n        type: String,\n        required: true\n    },\n    email: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    password: {\n        type: String,\n        required: true\n    },\n    image: {\n        type: String\n    },\n    phone: {\n        type: String\n    },\n    dateOfBirth: {\n        type: Date\n    },\n    gender: {\n        type: String,\n        enum: [\n            \"male\",\n            \"female\",\n            \"other\"\n        ]\n    },\n    weight: {\n        type: Number\n    },\n    height: {\n        type: Number\n    },\n    activityLevel: {\n        type: String,\n        enum: [\n            \"sedentary\",\n            \"light\",\n            \"moderate\",\n            \"active\",\n            \"very_active\"\n        ]\n    },\n    medicalConditions: {\n        type: [\n            String\n        ]\n    },\n    lastUpdateDate: {\n        type: Date,\n        default: Date.now\n    }\n}, {\n    timestamps: true\n});\n// Tính tuổi từ ngày sinh\nuserSchema.virtual(\"age\").get(function() {\n    if (!this.dateOfBirth) return null;\n    const today = new Date();\n    const birthDate = new Date(this.dateOfBirth);\n    let age = today.getFullYear() - birthDate.getFullYear();\n    const monthDiff = today.getMonth() - birthDate.getMonth();\n    if (monthDiff < 0 || monthDiff === 0 && today.getDate() < birthDate.getDate()) {\n        age--;\n    }\n    return age;\n});\n// Kiểm tra xem dữ liệu có cần cập nhật không\nuserSchema.methods.needsUpdate = function() {\n    if (!this.lastUpdateDate) return true;\n    const thirtyDaysAgo = new Date();\n    thirtyDaysAgo.setDate(thirtyDaysAgo.getDate() - 30);\n    return this.lastUpdateDate < thirtyDaysAgo;\n};\nconst User = (mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).User || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"User\", userSchema);\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (User);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbW9kZWxzL1VzZXIudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQStCO0FBRS9CLE1BQU1DLGFBQWEsSUFBSUQsd0RBQWUsQ0FBQztJQUNyQ0csTUFBTTtRQUNKQyxNQUFNQztRQUNOQyxVQUFVO0lBQ1o7SUFDQUMsT0FBTztRQUNMSCxNQUFNQztRQUNOQyxVQUFVO1FBQ1ZFLFFBQVE7SUFDVjtJQUNBQyxVQUFVO1FBQ1JMLE1BQU1DO1FBQ05DLFVBQVU7SUFDWjtJQUNBSSxPQUFPO1FBQ0xOLE1BQU1DO0lBQ1I7SUFDQU0sT0FBTztRQUNMUCxNQUFNQztJQUNSO0lBQ0FPLGFBQWE7UUFDWFIsTUFBTVM7SUFDUjtJQUNBQyxRQUFRO1FBQ05WLE1BQU1DO1FBQ05VLE1BQU07WUFBQztZQUFRO1lBQVU7U0FBUTtJQUNuQztJQUNBQyxRQUFRO1FBQ05aLE1BQU1hO0lBQ1I7SUFDQUMsUUFBUTtRQUNOZCxNQUFNYTtJQUNSO0lBQ0FFLGVBQWU7UUFDYmYsTUFBTUM7UUFDTlUsTUFBTTtZQUFDO1lBQWE7WUFBUztZQUFZO1lBQVU7U0FBYztJQUNuRTtJQUNBSyxtQkFBbUI7UUFDakJoQixNQUFNO1lBQUNDO1NBQU87SUFDaEI7SUFDQWdCLGdCQUFnQjtRQUNkakIsTUFBTVM7UUFDTlMsU0FBU1QsS0FBS1UsR0FBRztJQUNuQjtBQUNGLEdBQUc7SUFDREMsWUFBWTtBQUNkO0FBRUEseUJBQXlCO0FBQ3pCdkIsV0FBV3dCLE9BQU8sQ0FBQyxPQUFPQyxHQUFHLENBQUM7SUFDNUIsSUFBSSxDQUFDLElBQUksQ0FBQ2QsV0FBVyxFQUFFLE9BQU87SUFDOUIsTUFBTWUsUUFBUSxJQUFJZDtJQUNsQixNQUFNZSxZQUFZLElBQUlmLEtBQUssSUFBSSxDQUFDRCxXQUFXO0lBQzNDLElBQUlpQixNQUFNRixNQUFNRyxXQUFXLEtBQUtGLFVBQVVFLFdBQVc7SUFDckQsTUFBTUMsWUFBWUosTUFBTUssUUFBUSxLQUFLSixVQUFVSSxRQUFRO0lBRXZELElBQUlELFlBQVksS0FBTUEsY0FBYyxLQUFLSixNQUFNTSxPQUFPLEtBQUtMLFVBQVVLLE9BQU8sSUFBSztRQUMvRUo7SUFDRjtJQUVBLE9BQU9BO0FBQ1Q7QUFFQSw2Q0FBNkM7QUFDN0M1QixXQUFXaUMsT0FBTyxDQUFDQyxXQUFXLEdBQUc7SUFDL0IsSUFBSSxDQUFDLElBQUksQ0FBQ2QsY0FBYyxFQUFFLE9BQU87SUFFakMsTUFBTWUsZ0JBQWdCLElBQUl2QjtJQUMxQnVCLGNBQWNDLE9BQU8sQ0FBQ0QsY0FBY0gsT0FBTyxLQUFLO0lBRWhELE9BQU8sSUFBSSxDQUFDWixjQUFjLEdBQUdlO0FBQy9CO0FBRUEsTUFBTUUsT0FBT3RDLHdEQUFlLENBQUNzQyxJQUFJLElBQUl0QyxxREFBYyxDQUFDLFFBQVFDO0FBRTVELGlFQUFlcUMsSUFBSUEsRUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL2FpLWZvb2QtcmVjb21tZW5kYXRpb24vLi9zcmMvbW9kZWxzL1VzZXIudHM/MDk2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSAnbW9uZ29vc2UnXHJcblxyXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IG1vbmdvb3NlLlNjaGVtYSh7XHJcbiAgbmFtZToge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgcmVxdWlyZWQ6IHRydWVcclxuICB9LFxyXG4gIGVtYWlsOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICByZXF1aXJlZDogdHJ1ZSxcclxuICAgIHVuaXF1ZTogdHJ1ZVxyXG4gIH0sXHJcbiAgcGFzc3dvcmQ6IHtcclxuICAgIHR5cGU6IFN0cmluZyxcclxuICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgfSxcclxuICBpbWFnZToge1xyXG4gICAgdHlwZTogU3RyaW5nXHJcbiAgfSxcclxuICBwaG9uZToge1xyXG4gICAgdHlwZTogU3RyaW5nXHJcbiAgfSxcclxuICBkYXRlT2ZCaXJ0aDoge1xyXG4gICAgdHlwZTogRGF0ZVxyXG4gIH0sXHJcbiAgZ2VuZGVyOiB7XHJcbiAgICB0eXBlOiBTdHJpbmcsXHJcbiAgICBlbnVtOiBbJ21hbGUnLCAnZmVtYWxlJywgJ290aGVyJ11cclxuICB9LFxyXG4gIHdlaWdodDoge1xyXG4gICAgdHlwZTogTnVtYmVyXHJcbiAgfSxcclxuICBoZWlnaHQ6IHtcclxuICAgIHR5cGU6IE51bWJlclxyXG4gIH0sXHJcbiAgYWN0aXZpdHlMZXZlbDoge1xyXG4gICAgdHlwZTogU3RyaW5nLFxyXG4gICAgZW51bTogWydzZWRlbnRhcnknLCAnbGlnaHQnLCAnbW9kZXJhdGUnLCAnYWN0aXZlJywgJ3ZlcnlfYWN0aXZlJ11cclxuICB9LFxyXG4gIG1lZGljYWxDb25kaXRpb25zOiB7XHJcbiAgICB0eXBlOiBbU3RyaW5nXVxyXG4gIH0sXHJcbiAgbGFzdFVwZGF0ZURhdGU6IHtcclxuICAgIHR5cGU6IERhdGUsXHJcbiAgICBkZWZhdWx0OiBEYXRlLm5vd1xyXG4gIH1cclxufSwge1xyXG4gIHRpbWVzdGFtcHM6IHRydWVcclxufSlcclxuXHJcbi8vIFTDrW5oIHR14buVaSB04burIG5nw6B5IHNpbmhcclxudXNlclNjaGVtYS52aXJ0dWFsKCdhZ2UnKS5nZXQoZnVuY3Rpb24oKSB7XHJcbiAgaWYgKCF0aGlzLmRhdGVPZkJpcnRoKSByZXR1cm4gbnVsbFxyXG4gIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKVxyXG4gIGNvbnN0IGJpcnRoRGF0ZSA9IG5ldyBEYXRlKHRoaXMuZGF0ZU9mQmlydGgpXHJcbiAgbGV0IGFnZSA9IHRvZGF5LmdldEZ1bGxZZWFyKCkgLSBiaXJ0aERhdGUuZ2V0RnVsbFllYXIoKVxyXG4gIGNvbnN0IG1vbnRoRGlmZiA9IHRvZGF5LmdldE1vbnRoKCkgLSBiaXJ0aERhdGUuZ2V0TW9udGgoKVxyXG4gIFxyXG4gIGlmIChtb250aERpZmYgPCAwIHx8IChtb250aERpZmYgPT09IDAgJiYgdG9kYXkuZ2V0RGF0ZSgpIDwgYmlydGhEYXRlLmdldERhdGUoKSkpIHtcclxuICAgIGFnZS0tXHJcbiAgfVxyXG4gIFxyXG4gIHJldHVybiBhZ2VcclxufSlcclxuXHJcbi8vIEtp4buDbSB0cmEgeGVtIGThu68gbGnhu4d1IGPDsyBj4bqnbiBj4bqtcCBuaOG6rXQga2jDtG5nXHJcbnVzZXJTY2hlbWEubWV0aG9kcy5uZWVkc1VwZGF0ZSA9IGZ1bmN0aW9uKCkge1xyXG4gIGlmICghdGhpcy5sYXN0VXBkYXRlRGF0ZSkgcmV0dXJuIHRydWVcclxuICBcclxuICBjb25zdCB0aGlydHlEYXlzQWdvID0gbmV3IERhdGUoKVxyXG4gIHRoaXJ0eURheXNBZ28uc2V0RGF0ZSh0aGlydHlEYXlzQWdvLmdldERhdGUoKSAtIDMwKVxyXG4gIFxyXG4gIHJldHVybiB0aGlzLmxhc3RVcGRhdGVEYXRlIDwgdGhpcnR5RGF5c0Fnb1xyXG59XHJcblxyXG5jb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWxzLlVzZXIgfHwgbW9uZ29vc2UubW9kZWwoJ1VzZXInLCB1c2VyU2NoZW1hKVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgVXNlciAiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJ1c2VyU2NoZW1hIiwiU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJyZXF1aXJlZCIsImVtYWlsIiwidW5pcXVlIiwicGFzc3dvcmQiLCJpbWFnZSIsInBob25lIiwiZGF0ZU9mQmlydGgiLCJEYXRlIiwiZ2VuZGVyIiwiZW51bSIsIndlaWdodCIsIk51bWJlciIsImhlaWdodCIsImFjdGl2aXR5TGV2ZWwiLCJtZWRpY2FsQ29uZGl0aW9ucyIsImxhc3RVcGRhdGVEYXRlIiwiZGVmYXVsdCIsIm5vdyIsInRpbWVzdGFtcHMiLCJ2aXJ0dWFsIiwiZ2V0IiwidG9kYXkiLCJiaXJ0aERhdGUiLCJhZ2UiLCJnZXRGdWxsWWVhciIsIm1vbnRoRGlmZiIsImdldE1vbnRoIiwiZ2V0RGF0ZSIsIm1ldGhvZHMiLCJuZWVkc1VwZGF0ZSIsInRoaXJ0eURheXNBZ28iLCJzZXREYXRlIiwiVXNlciIsIm1vZGVscyIsIm1vZGVsIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/models/User.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@auth","vendor-chunks/next-auth","vendor-chunks/@swc","vendor-chunks/jose","vendor-chunks/oauth4webapi","vendor-chunks/bcryptjs","vendor-chunks/preact","vendor-chunks/preact-render-to-string","vendor-chunks/@panva","vendor-chunks/cloudinary","vendor-chunks/q"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fuser%2Favatar%2Froute&page=%2Fapi%2Fuser%2Favatar%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fuser%2Favatar%2Froute.ts&appDir=D%3A%5CKh%C3%B3a%20lu%E1%BA%ADn%20t%E1%BB%91t%20nghi%E1%BB%87p%5Cfe-kltn%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=D%3A%5CKh%C3%B3a%20lu%E1%BA%ADn%20t%E1%BB%91t%20nghi%E1%BB%87p%5Cfe-kltn&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();